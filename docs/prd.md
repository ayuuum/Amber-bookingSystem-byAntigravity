# Product Requirements Document（PRD）

## プロダクト名

Haukuri Pro

---

## 1. 背景・目的（Background & Goal）

### 背景

ハウスクリーニング業界では、予約受付が
LINE・電話・Web・紹介など複数チャネルに分散しており、

* ダブルブッキング
* 日程調整の属人化
* スタッフ割当の負担
* 顧客情報の分断

が慢性的な問題となっている。

### 目的

Haukuri Pro は、
**「予約受付〜スケジュール管理〜スタッフ割当〜顧客履歴」までを
LINE起点で一元化し、現場運用を最小人数で回せる状態を作る**ことを目的とする。

---

## 2. プロダクト定義（Product Definition）

### 一文定義

Haukuri Pro は、ハウスクリーニング事業者向けの
**マルチチャネル予約統合 × 現場運用最適化 SaaS**である。

### 提供価値

* 予約を「取れる」だけでなく「回せる」
* 人の判断を減らし、事故（ミス）を防ぐ
* LINEを主導線に顧客接点を握れる

---

## 3. ターゲットユーザー（Target Users）

### 主要ターゲット

* 従業員数：2〜20名
* 月間予約数：50〜500件
* LINE公式アカウントを利用中、または導入予定

### ユーザーロール

| ロール       | 主な利用目的  |
| --------- | ------- |
| オーナー / 店長 | 全体管理・判断 |
| スタッフ      | 自分の予定確認 |
| 顧客        | 予約・変更   |

---

## 4. 成功指標（Success Metrics）

### プロダクトKPI

* 予約完了率
* ダブルブッキング発生率（目標：0）
* 店舗の週次ログイン率
* 月次解約率

### 事業KPI

* ARPU（¥5,000〜15,000）
* 導入店舗数
* 継続利用率（3ヶ月）

---

## 5. スコープ定義（In Scope / Out of Scope）

### In Scope（Phase0＋1）

* マルチチャネル予約
* Googleカレンダー連携
* スタッフ自動アサイン
* 予約台帳
* 顧客管理
* 最低限の通知

### Out of Scope（後続フェーズ）

* 決済
* 定期清掃
* AI受付
* FC本部管理
* 高度な分析

---

## 6. 機能要件（Functional Requirements）

---

### 6-1. 予約受付機能

#### 概要

すべての予約を **同一の booking モデル**として処理する。

#### 要件

* LINE（LIFF）から予約可能
* Web予約ページから予約可能
* 電話予約を管理画面から手動登録可能
* サービス選択
* 日時選択（空き枠のみ表示）
* 即時 confirmed で予約確定

---

### 6-2. スケジュール・空き枠管理

#### 概要

予約可能な時間帯のみを顧客に提示する。

#### 要件

* 店舗営業時間の設定
* サービス所要時間管理
* 既存予約との重複排除
* Google Calendar API 連携

  * freeBusy 取得
  * 予約確定時の予定登録

---

### 6-3. スタッフ管理・自動アサイン

#### 概要

予約時に人の判断を介さずスタッフを割り当てる。

#### 要件

* スタッフ登録
* スタッフごとの Google Calendar 紐付け
* 空いているスタッフの自動選択

#### Phase1拡張

* 当日対応件数が少ないスタッフを優先
* 管理画面での手動変更

---

### 6-4. 店舗ダッシュボード（予約台帳）

#### 概要

店舗はこの画面だけで1日の運用が可能。

#### 要件

* 今日 / 今週の予約一覧
* ステータス管理

  * confirmed
  * completed
  * cancelled
  * no_show
* 電話予約の手動追加

#### Phase1拡張

* スタッフ別稼働可視化
* 移動・詰まり警告表示

---

### 6-5. 顧客管理

#### 概要

CRMではなく「履歴が思い出せる」ことを目的とする。

#### 要件

* 顧客一覧
* 顧客詳細

  * 基本情報
  * 過去の予約履歴

#### Phase1拡張

* 顧客メモ・注意事項
* 次回予約時の注意表示

---

### 6-6. 通知・リマインド

#### 要件

* 予約確定通知（LINE or SMS）
* 前日リマインド（1回）

#### Phase1拡張

* 作業完了後フォロー通知
* 再来候補フラグ付与

---

## 7. 非機能要件（Non-Functional Requirements）

### パフォーマンス

* 予約確定まで3秒以内

### 可用性

* サーバーレス構成（Supabase / Edge Functions）

### セキュリティ

* 店舗データの分離（RLS）
* 外部ユーザーは自分の予約のみ操作可能

---

## 8. フェーズ戦略（Roadmap）

| フェーズ   | 目的   | 主な追加  |
| ------ | ---- | ----- |
| Phase0 | 使える  | 予約・運用 |
| Phase1 | 楽になる | 稼働可視化 |
| Phase2 | 儲かる  | 再来促進  |
| Phase3 | 強くなる | AI    |
| Phase4 | スケール | FC    |

---

## 9. なぜこのPRDで失敗しにくいか

* 業界特化で要件がブレない
* MVPでも「現場が使う」粒度
* 先にDBとドメインを固めている
* フェーズ拡張が自然につながる

---

## 10. 次アクション

* 実装タスクへの分解（完了）
* 料金プラン設計
* 初期導入店舗の選定
